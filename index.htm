<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Formulario con validación</title>
  <link rel="stylesheet" href="_CSS/estilos.css">
</head>
<body>

  <main class="contenedor-formulario">
    <section class="tarjeta">
      <h2><i class="fas fa-user-circle"></i> Registro de Usuario</h2>
      <form id="formularioAvanzado">

        <div class="campo">
          <label for="Nombre"><i class="fas fa-user"></i> Nombre:</label> 
          <input type="text" id="Nombre" name="Nombre" />
          <span id="errorNombre" class="mensaje-error"></span>
          <span id="exitoNombre" class="mensaje-exito"></span>
        </div>

        <div class="campo">
          <label for="apellido">Apellido</label>
          <input type="text" id="apellido" name="apellido">
          <div class="mensaje-error" id="error-apellido">Debe contener solo letras y al menos 3 caracteres.</div>
        </div>

        <div class="campo">
          <label for="correo">Correo electrónico</label>
          <input type="email" id="correo" name="correo">
          <div class="mensaje-error" id="error-correo">Ingrese un correo válido.</div>
        </div>

        <div class="campo">
          <label for="confirmarCorreo">Confirmar correo electrónico</label>
          <input type="email" id="confirmarCorreo" name="confirmarCorreo"
                 oncopy="return false" oncut="return false" onpaste="return false" oncontextmenu="return false">
          <div class="mensaje-error" id="error-confirmar">Los correos no coinciden.</div>
        </div>

        <div class="campo">
          <label for="password"><i class="fas fa-lock"></i> Contraseña:</label>
          <input type="password" id="password" name="password"
                 oncopy="return false" oncut="return false" onpaste="return false" oncontextmenu="return false" />
          <div id="strengthBar" class="password-strength"></div>
          <span id="errorPassword" class="mensaje-error"></span>
          <span id="exitoPassword" class="mensaje-exito"></span>
        </div>

        <div class="campo">
          <label for="confirmarPassword"><i class="fas fa-lock"></i> Confirmar contraseña:</label>
          <input type="password" id="confirmarPassword" name="confirmarPassword"
                 oncopy="return false" oncut="return false" onpaste="return false" oncontextmenu="return false" />
          <span id="errorConfirmar" class="mensaje-error"></span>
          <span id="exitoConfirmar" class="mensaje-exito"></span>
        </div>

        <div class="campo">
          <label for="telefono"><i class="fas fa-phone"></i> Teléfono:</label>
          <input type="text" id="telefono" name="telefono" />
          <span id="errorTelefono" class="mensaje-error"></span>
          <span id="exitoTelefono" class="mensaje-exito"></span>
        </div>

        <div class="campo">
          <label for="fechaNacimiento"><i class="fas fa-calendar-alt"></i> Fecha de nacimiento:</label>
          <input type="date" id="fechaNacimiento" name="fechaNacimiento" />
          <span id="errorFecha" class="mensaje-error"></span>
          <span id="exitoFecha" class="mensaje-exito"></span>
        </div>

        <div class="campo">
          <label for="comentarios"><i class="fas fa-comment-dots"></i> Comentarios (opcional):</label>
          <textarea id="comentarios" name="comentarios" maxlength="500"></textarea>
          <small>Caracteres: <span id="contadorComentarios">0</span></small>
        </div>

        <div class="campo">
          <label><input type="checkbox" id="terminos" name="terminos" /> Acepto los términos y condiciones</label>
          <span id="errorTerminos" class="mensaje-error"></span>
        </div>

        <div class="barra-progreso">
          <div id="barraProgreso"></div>
          <span id="porcentajeProgreso">0%</span>
        </div>

        <div class="botones">
          <button type="button" onclick="reiniciarFormulario()">Reiniciar</button>
          <button type="submit" id="btnEnviar" disabled>Enviar</button>
        </div>
      </form>
    </section>

    <section class="tarjeta resumen" id="resumenDatos" style="display: none;">
      <h3><i class="fas fa-check-circle"></i> Resumen del formulario</h3>
      <div id="contenidoResumen"></div>
    </section>
  </main>

  <script src="_JS/script.js"></script>

  <!-- Script para bloquear copiar/pegar en campos protegidos -->
  <script>
    const camposProtegidos = ['confirmarCorreo', 'password', 'confirmarPassword'];

    camposProtegidos.forEach(id => {
      const campo = document.getElementById(id);
      campo.addEventListener('keydown', function (e) {
        if ((e.ctrlKey || e.metaKey) && ['c', 'v', 'x'].includes(e.key.toLowerCase())) {
          e.preventDefault();
        }
      });
    });
  </script>

</body>
</html>
